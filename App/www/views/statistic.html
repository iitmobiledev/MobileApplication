<header-content title="'Салон красоты'" show-back-button="false" show="false"></header-content>
<orient orientation="'portrait'"></orient>
<footer-content show="true" active-page="StatisticsFooter" inactive-pages="['VisitsFooter', 'SettingsFooter']"></footer-content>
<div class="upage-content" id="mainsub">
    <div id="statisticPanel">

        <!--        <date-changer step='step' date='date' steps='["day", "week", "month"]' titles='["За день", "За неделю", "За месяц"]' has-future-data='hasFutureData()' has-prev-data='hasPrevData()' index='pageIndex'></date-changer>-->

        <div id="periodChanger" class="grid grid-pad urow uib_row_2 row-height-1" data-uib="layout/row" data-ver="0">
            <div class="col uib_col_5 col-0_12-12" data-uib="layout/col" data-ver="0">
                <div class="widget-container content-area vertical-col">
                    <div id="periodButtons" class="periodButtons button-grouped widget uib_w_4 flex" style="margin-bottom: 10px; font-weight: lighter" data-ver="1">
                        <a class="active day button widget uib_w_6 d-margins" 
                           data-uib="app_framework/button" 
                           data-ver="1"
                           ng-click="goForDay()">
                            За день
                        </a>
                        <a class="button week  widget uib_w_6 d-margins" 
                           data-uib="app_framework/button" 
                           data-ver="1"
                           ng-click="goForWeek()">
                            За неделю
                        </a>
                        <a class="button month widget uib_w_6 d-margins" 
                           data-uib="app_framework/button" 
                           data-ver="1"
                           ng-click="goForMonth()">
                            За месяц
                        </a>
                    </div>
                    <span class="uib_shim"></span>
                </div>
            </div>
            <span class="uib_shim"></span>

        </div>
        <!--         style="position: absolute; height: 100%"-->

        <slider content-id="statistic-content" get-data='getData' key-expression='getKey'></slider>
        <load-bar param-name="loading" ></load-bar>
        <script type="text/ng-template" id="statistic-content">
            <div id="statisticContent">
                <date-changer date='page.date' step='$parent.step' has-future-data='hasFutureData(page.date)' has-prev-data='hasPrevData(page.date)'></date-changer>
                <table id="statisticTable">
                    <tr>
                        <td class="sCell" ng-click="$parent.toChart('proceeds')" style="border-right: none;border-bottom: none;">
                            <img src="images/proceeds.PNG" style="margin:5px;">
                            <p style="font-size:23pt; font-weight: bold">{{page.proceeds| money:0}} <span class="price">ю</span></p>
                            <p style="font-weight: lighter">Выручка</p>
                        </td>
                        <td class="sCell" ng-click="$parent.toChart('profit')" style="border-bottom: none;">
                            <img src="images/profit.PNG" style="margin:5px">
                            <p style="font-size:23pt; font-weight: bold">{{page.profit| money:0}} <span class="price">ю</span></p>
                            <p style="font-weight: lighter">Прибыль</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="sCell" ng-click="$parent.toChart('clients')" style="border-right: none;">
                            <img src="images/clients.PNG" style="margin:5px">
                            <p style="font-size:23pt; font-weight: bold">{{page.clients}}</p>
                            <p style="font-weight: lighter">Оформлено визитов</p>
                        </td>
                        <td class="sCell" ng-click="$parent.toChart('workload')" ;>
                            <img src="images/workload.PNG" style="margin:5px">
                            <p style="font-size:23pt; font-weight: bold">{{page.workload| money:0}}%</p>
                            <p style="font-weight: lighter">Загруженность</p>
                        </td>
                    </tr>
                </table>
                <table id="financeTable" ng-show='hasFinance(page)'>
                    <tr>
                        <td class="financeCell">
                            
                            <div style="text-align:left;display:inline-block;">
                            <h1>{{page.financeStat.tillMoney| money:0}} <span class="price">ю</span></h1>
                            <span style="font-size:14px; font-weight: lighter">В кассе</span>
                            </div>
                        </td>
                        <td class="financeCellLeft" align="center">
                            <table align="center">
                                <tr>
                                    <td style="text-align:right">Утром:</td>
                                    <td style="font-weight: bold;text-align:right">{{page.financeStat.morningMoney| money:0}} <span class="price">ю</span></td>
                                </tr>
                                <tr>
                                    <td style="text-align:right">Приход:</td>
                                    <td style="font-weight: bold;text-align:right">{{page.financeStat.credit| money:0}} <span class="price">ю</span></td>
                                </tr>

                                <tr ng-click="toExpenditures() ">
                                    <td style="text-align:right">Расход:</td>
                                    <td style="font-weight: bold;text-align:right">{{page.financeStat.debit| money:0}} <span class="price">ю</span></td>
                                </tr>

                            </table>

                        </td>

                    </tr>
                </table>


            </div>
            </script>
    </div>
</div>